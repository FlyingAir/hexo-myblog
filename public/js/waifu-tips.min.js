"use strict";String.prototype.render=function(e){return this.replace(/(\\)?\{([^\{\}\\]+)(\\)?\}/g,function(t,o,i,n){if(o||n)return t.replace("\\","");var a,s,l=i.replace(/\s/g,"").split("."),r=e;for(a=0,s=l.length;a<s;++a)if(null==(r=r[l[a]]))return"";return r})};var re=/x/;console.log(re),re.toString=function(){return showMessage("哈哈，你打开了控制台，是想要看看我的秘密吗？",5e3,!0),""},$(document).on("copy",function(){showMessage("你都复制了些什么呀，转载要记得加上出处哦",5e3,!0)}),$(".waifu-tool .fui-home").click(function(){window.location=window.location.protocol+"//"+window.location.host+"/"}),$(".waifu-tool .fui-eye").click(function(){loadOtherModel()}),$(".waifu-tool .fui-chat").click(function(){showHitokoto()}),$(".waifu-tool .fui-user").click(function(){loadRandModel()}),$(".waifu-tool .fui-info-circle").click(function(){window.open("https://www.fghrsh.net/post/123.html")}),$(".waifu-tool .fui-cross").click(function(){sessionStorage.setItem("waifu-dsiplay","none"),showMessage("愿你有一天能与重要的人重逢",1300,!0),window.setTimeout(function(){$(".waifu").hide()},1300)}),$(".waifu-tool .fui-photo").click(function(){showMessage("照好了嘛，是不是很可爱呢？",5e3,!0),window.Live2D.captureName="Pio.png",window.Live2D.captureFrame=!0}),function(){var e,t=window.location.protocol+"//"+window.location.hostname+"/";if(window.location.href==t){var o=(new Date).getHours();e=o>23||o<=5?"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛":o>5&&o<=7?"早上好！一日之计在于晨，美好的一天就要开始了":o>7&&o<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":o>11&&o<=14?"中午了，工作了一个上午，现在是午餐时间！":o>14&&o<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":o>17&&o<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~":o>19&&o<=21?"晚上好，今天过得怎么样？":o>21&&o<=23?"已经这么晚了呀，早点休息吧，晚安~":"嗨~ 快来逗我玩吧！"}else if(""!==document.referrer){var i=document.createElement("a");i.href=document.referrer;var n=i.hostname.split(".")[1];e=window.location.hostname==i.hostname?'欢迎阅读<span style="color:#0099cc;">『'+document.title.split(" - ")[0]+"』</span>":"baidu"==n?'Hello! 来自 百度搜索 的朋友<br>你是搜索 <span style="color:#0099cc;">'+i.search.split("&wd=")[1].split("&")[0]+"</span> 找到的我吗？":"so"==n?'Hello! 来自 360搜索 的朋友<br>你是搜索 <span style="color:#0099cc;">'+i.search.split("&q=")[1].split("&")[0]+"</span> 找到的我吗？":"google"==n?'Hello! 来自 谷歌搜索 的朋友<br>欢迎阅读<span style="color:#0099cc;">『'+document.title.split(" - ")[0]+"』</span>":'Hello! 来自 <span style="color:#0099cc;">'+i.hostname+"</span> 的朋友"}else e='欢迎阅读<span style="color:#0099cc;">『'+document.title.split(" - ")[0]+"』</span>";showMessage(e,6e3)}();var getActed=!1;window.hitokotoTimer=0;var hitokotoInterval=!1;function ifActed(){hitokotoInterval||(hitokotoInterval=!0,hitokotoTimer=window.setInterval(showHitokoto,1e4))}function elseActed(){getActed=hitokotoInterval=!1,window.clearInterval(hitokotoTimer)}function showHitokoto(){$.getJSON("https://sslapi.hitokoto.cn/",function(e){showMessage(e.hitokoto,5e3)})}function showMessage(e,t,o){(o||""===sessionStorage.getItem("waifu-text")||null===sessionStorage.getItem("waifu-text"))&&(Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length+1)-1]),o&&sessionStorage.setItem("waifu-text",e),$(".waifu-tips").stop(),$(".waifu-tips").html(e).fadeTo(200,1),void 0===t&&(t=5e3),hideMessage(t))}function hideMessage(e){$(".waifu-tips").stop().css("opacity",1),void 0===e&&(e=5e3),window.setTimeout(function(){sessionStorage.removeItem("waifu-text")},e),$(".waifu-tips").delay(e).fadeTo(200,0)}function initModel(e){void 0===e&&(e="");var t=localStorage.getItem("modelId"),o=localStorage.getItem("modelTexturesId");if(null==t)t=1,o=53;loadModel(t,o),$.ajax({cache:!0,url:e+"waifu-tips.json",dataType:"json",success:function(e){$.each(e.mouseover,function(e,t){$(document).on("mouseover",t.selector,function(){var e=t.text;Array.isArray(t.text)&&(e=t.text[Math.floor(Math.random()*t.text.length+1)-1]),showMessage(e=e.render({text:$(this).text()}),3e3)})}),$.each(e.click,function(e,t){$(document).on("click",t.selector,function(){var e=t.text;Array.isArray(t.text)&&(e=t.text[Math.floor(Math.random()*t.text.length+1)-1]),showMessage(e=e.render({text:$(this).text()}),3e3,!0)})}),$.each(e.seasons,function(e,t){var o=new Date,i=t.date.split("-")[0],n=t.date.split("-")[1]||i;if(i.split("/")[0]<=o.getMonth()+1&&o.getMonth()+1<=n.split("/")[0]&&i.split("/")[1]<=o.getDate()&&o.getDate()<=n.split("/")[1]){var a=t.text;Array.isArray(t.text)&&(a=t.text[Math.floor(Math.random()*t.text.length+1)-1]),showMessage(a=a.render({year:o.getFullYear()}),6e3,!0)}})}})}function loadModel(e,t){localStorage.setItem("modelId",e),void 0===t&&(t=0),localStorage.setItem("modelTexturesId",t),loadlive2d("live2d","//api.fghrsh.net/live2d/get/?id="+e+"-"+t,console.log("live2d","模型 "+e+"-"+t+" 加载完成"))}function loadRandModel(){var e=localStorage.getItem("modelId"),t=localStorage.getItem("modelTexturesId");$.ajax({cache:!1,url:"//api.fghrsh.net/live2d/rand_textures/?id="+e+"-"+t,dataType:"json",success:function(o){1!=o.textures.id||1!=t&&0!=t?showMessage("我的新衣服好看嘛",3e3,!0):showMessage("我还没有其他衣服呢",3e3,!0),loadModel(e,o.textures.id)}})}function loadOtherModel(){var e=localStorage.getItem("modelId");$.ajax({cache:!1,url:"//api.fghrsh.net/live2d/switch/?id="+e,dataType:"json",success:function(e){loadModel(e.model.id),showMessage(e.model.message,3e3,!0)}})}$(document).mousemove(function(e){getActed=!0}).keydown(function(){getActed=!0}),setInterval(function(){getActed?elseActed():ifActed()},1e3);