<script>
/* 关于页面 布局优化 */
if(location.href.indexOf("about")!==-1&&window.innerWidth<1200){
	/*移动设备 内容会出现内边距*/
	document.querySelector(".post-content").classList.add("about");
}
//检查  是否在本页,修改title
document.addEventListener('visibilitychange',function(){
if(document.visibilityState=='hidden') {
    normal_title=document.title;
    document.title='(╰_╯)#';
}
else
    document.title=normal_title;
});
if(window.innerWidth > 800){
	/* 3D标题 */
	$(".content-header").on("mousemove", threedee);

	/* 底部追随鼠标 */
	$(".footer").hover(2);

	/* gotop键的涟漪 */
	$("#gotop").hover(1);

	/* 赞赏的粒子雨 */
	$("#reward").hover(3);

	/* 微信公众号的底部渲染 */
	$("#wechat").hover(4);

    /* 标题跳动 */
    $(".archivestitle").bumpyText();

	/* 图片点击放大 */
	const postimg = jQuery(".post-content img:not(.github-emoji)");
	postimg.on("click",function(){

		mask.classList.add("in");
		main.classList.add("Mask");
		menu.classList.add("Mask");
		var myimg = this.cloneNode(true);
		myimg.classList.add("imgShow");

		setTimeout(function(){
			jQuery(myimg).animate({
				opacity:"1"
			},1000);
		},0);

		document.body.appendChild(myimg);

		myimg.onclick=function(){
			document.body.removeChild(myimg);
			mask.classList.remove("in");
			main.classList.remove("Mask");
			menu.classList.remove("Mask");
		};

	});

}

/* 名字跳动 */
$("#name").bumpyText();


/* 网站运行时间 */
setInterval(function () {
	setTime("<%- theme.startime %>");
}, 1000);

/* 文章块的淡出 */
postshow();

/* 座右铭 */
<% if(theme.mymotto) { %>
    elasticText({
        id: "mymotto",
        duration: 100,
        effact: "easeOut",
        content: "<%- theme.mymotto.content %>"
    });
<% } else {%>
   getHitokoto();
<% } %>


/* 粘贴提示 */
G($(".post-content"), location.href, "<%- config.author %>");


/* 控制台 */
if (window.console && window.console.log) {
	setTimeout(function () {
		console.log("\n %c 一只特立独行的猪 %c  © Simon Ma  http://tomotoes.com \n\n", "color:#FFFFFB;background:#16aaac;padding:5px 0;border-radius:.5rem 0 0 .5rem;", "color:#FFFFFB;background:#434343;padding:5px 0;border-radius:0 .5rem .5rem 0;");
	}, 0);
}

</script>


